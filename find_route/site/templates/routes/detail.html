{% extends 'base.html' %}

{% block title %}
Маршрут
{% endblock title %}

{% block content %}

<h1>Маршрут</h1>
<div class="row my-4">
    <div class="col-md-10 mx-auto">

        <table class="table table-striped">
            <thead>
            <tr>
                <th scope="col">id</th>
                <th scope="col">Название</th>
                <th scope="col">Откуда</th>
                <th scope="col">Куда</th>
                <th scope="col">Время в пути</th>
                <th scope="col">Список поездов</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th scope="row">
                    {{object.id}}
                </th>
                <td>
                    {{object.name}}
                </td>
                <td>
                    {{object.from_city}}
                </td>
                <td>
                    {{object.to_city}}
                </td>
                <td>
                    {{object.travel_times}}
                </td>
                <td>
                    {% for train in object.trains.all %}
                    <p>{{train}}, время в пути: {{train.travel_time}} ч.</p>
                    {% endfor %}
                </td>
            </tr>

            </tbody>
        </table>

        {% if request.user.is_authenticated %}

        <a href="{% url 'routes:delete' object.id %}">
            <button type="submit" class="btn btn-danger btn-sm">Удалить</button>
        </a>
        {% endif %}

    </div>
</div>

{% endblock content %}